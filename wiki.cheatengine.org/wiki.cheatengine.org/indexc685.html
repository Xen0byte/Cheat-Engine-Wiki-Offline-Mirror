<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from wiki.cheatengine.org/index.php?title=Tutorial:LuaFormListView&printable=yes by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 02 Jun 2021 20:06:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Tutorial - Using a ListView - Cheat Engine</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Tutorial:LuaFormListView","wgTitle":"Tutorial:LuaFormListView","wgCurRevisionId":6652,"wgRevisionId":6652,"wgArticleId":1905,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Tutorial","Lua"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Tutorial:LuaFormListView","wgRelevantArticleId":1905,"wgRequestId":"a61ffbb60c323bcccc99a253","wgCSPNonce":false,"wgIsProbablyEditable":true,"wgRelevantPageIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.toc.styles":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@0tffind",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});RLPAGEMODULES=["site","mediawiki.page.startup","mediawiki.user","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"];mw.loader.load(RLPAGEMODULES);});</script>
<link rel="stylesheet" href="load6525.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.toc.styles%7Cskins.vector.styles&amp;only=styles&amp;printable=1&amp;skin=vector"/>
<script async="" src="load61a1.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;printable=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<meta name="generator" content="MediaWiki 1.32.0"/>
<meta name="robots" content="noindex,follow"/>
<link rel="alternate" type="application/x-wiki" title="Edit" href="index719d.html?title=Tutorial:LuaFormListView&amp;action=edit"/>
<link rel="edit" title="Edit" href="index719d.html?title=Tutorial:LuaFormListView&amp;action=edit"/>
<link rel="shortcut icon" href="favicon.html"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Cheat Engine (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api-result251f.xml?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/publicdomain/"/>
<link rel="alternate" type="application/atom+xml" title="Cheat Engine Atom feed" href="feeda295.xml?title=Special:RecentChanges&amp;feed=atom"/>
<script async src="../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({google_ad_client: "ca-pub-2965724121945476", enable_page_level_ads: true });</script>
<!-- Begin Cookie Consent plugin by Silktide - http://silktide.com/cookieconsent -->
<link rel="stylesheet" type="text/css" href="../cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css" />
<script src="../cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#000"
    },
    "button": {
      "background": "#f1d600"
    }
  },
  "theme": "classic",
  "position": "top",
  "content": {
    "message": "This site makes use of the Google services Adsense Analytics, and other third party advertisers which use Cookies to collect data about you, and which will be shared with third parties. By continuing to use this site you consent to the storage of these cookies",
    "dismiss": "I Agree",
    "href": "http://www.google.com/intl/en/policies/privacy/partners/"
  }
})});
</script>
<!-- End Cookie Consent plugin -->

<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Tutorial_LuaFormListView rootpage-Tutorial_LuaFormListView skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">Tutorial - Using a ListView</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From Cheat Engine</div>				<div id="contentSub"></div>
				<div id="jump-to-nav"></div>				<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
				<a class="mw-jump-link" href="#p-search">Jump to search</a>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><br />
</p><p>This will be concentrating on the <b>ListView</b> control, check out
<a href="indexda45.html?title=Tutorial:LuaFormGUI" title="Tutorial:LuaFormGUI">this tutorial</a> to learn more about working with
forms in general.
</p>
<div id="toc" class="toc"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Initial_Setup"><span class="tocnumber">1</span> <span class="toctext">Initial Setup</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#The_Form"><span class="tocnumber">1.1</span> <span class="toctext">The Form</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Adding_a_Column"><span class="tocnumber">1.2</span> <span class="toctext">Adding a Column</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Add_Items"><span class="tocnumber">1.3</span> <span class="toctext">Add Items</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Adding_More_Columns"><span class="tocnumber">2</span> <span class="toctext">Adding More Columns</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Add_Data_For_New_Columns"><span class="tocnumber">2.1</span> <span class="toctext">Add Data For New Columns</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Using_OwnerData"><span class="tocnumber">3</span> <span class="toctext">Using OwnerData</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Aside_on_syncing_with_lua"><span class="tocnumber">3.1</span> <span class="toctext">Aside on syncing with lua</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Using_OnCustomDrawItem.2C_OnCustomDrawSubItem"><span class="tocnumber">4</span> <span class="toctext">Using OnCustomDrawItem, OnCustomDrawSubItem</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#OnCustomDrawItem"><span class="tocnumber">4.1</span> <span class="toctext">OnCustomDrawItem</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#OnCustomDrawSubItem"><span class="tocnumber">4.2</span> <span class="toctext">OnCustomDrawSubItem</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Selecting_Items"><span class="tocnumber">5</span> <span class="toctext">Selecting Items</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#OnSelectItem"><span class="tocnumber">5.1</span> <span class="toctext">OnSelectItem</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Finding_with_Multiselect.3Dtrue"><span class="tocnumber">5.2</span> <span class="toctext">Finding with Multiselect=true</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Finding_with_single_select"><span class="tocnumber">5.3</span> <span class="toctext">Finding with single select</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#Other_Events"><span class="tocnumber">6</span> <span class="toctext">Other Events</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#DblClick"><span class="tocnumber">6.1</span> <span class="toctext">DblClick</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#KeyDown"><span class="tocnumber">6.2</span> <span class="toctext">KeyDown</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Initial_Setup">Initial Setup</span></h2>
<h3><span class="mw-headline" id="The_Form">The Form</span></h3>
<p>To get started create a form with <b>Table-&gt;Create form</b>, this generated
a <b>UDF1</b> form for me.  Now click the <b>ListView</b> button and drag an
area on the form to set its extends.  
</p><p><a href="index99a8.html?title=File:TutorialListViewAdd.png" class="image" title="Add ListView"><img alt="Add ListView" src="images/f/fc/TutorialListViewAdd.png" width="719" height="274" class="thumbborder" /></a>
</p><p>In the properties change the <b>ViewStyle</b> to <b>vsReport</b>, this gives us
a normal view with rows and columns.  Also change <b>ReadOnly</b> to true
because we won't allow editing, and <b>RowSelect</b> to true so clicking
will select an entire row instead of just one column value:
</p><p><a href="index2d34.html?title=File:TutorialListViewProps.png" class="image" title="ListView ReadOnly, RowSelect, and ViewStyle"><img alt="ListView ReadOnly, RowSelect, and ViewStyle" src="images/b/b4/TutorialListViewProps.png" width="373" height="320" class="thumbborder" /></a>
</p>
<h3><span class="mw-headline" id="Adding_a_Column">Adding a Column</span></h3>
<p>Now let's add a column.  Click on the <b>Columns</b> property  and the '...' to the 
right to open the column editor and click 'Add' to add a new column.  Here I set
the <b>Caption</b> of the column to 'Message' and changed the <b>Width</b> from
50 to 200.  You can also change the width by dragging the column separator
on the design form.
</p><p><a href="index7c03.html?title=File:TutorialListViewAddOneCol.png" class="image" title="ListView Add One Column"><img alt="ListView Add One Column" src="images/9/92/TutorialListViewAddOneCol.png" width="467" height="411" class="thumbborder" /></a>
</p>
<h3><span class="mw-headline" id="Add_Items">Add Items</span></h3>
<p>Now close design mode by clicking the <b>X</b> on the top right of the toolbar window
and the form will display in normal mode.  Execute this code:
</p>
<pre>local items = UDF1.CEListView1.Items
items.Clear()
local item = items.Add()
item.Caption = "First item"
item = items.Add()
item.Caption = "Second item"</pre>
<p>That will clear the list and add a couple of items that you can see:
</p><p><a href="indexab0a.html?title=File:TutorialListViewOneCol.png" class="image" title="ListView Sample One Column Values"><img alt="ListView Sample One Column Values" src="images/f/f7/TutorialListViewOneCol.png" width="260" height="277" class="thumbborder" /></a>
</p>
<h2><span class="mw-headline" id="Adding_More_Columns">Adding More Columns</span></h2>
<p>Now I'll go back to the properties of <b>CEListView1</b> and click on the '...'
in the <b>Columns</b> property to open the column editor and click <b>Add</b>
to add a couple of more columns and edit their <b>Caption</b> properties
to be <b>Extra</b> and <b>Clock</b>.
</p><p><a href="index7fed.html?title=File:TutorialListViewAddMoreColumns.png" class="image" title="ListView Add More Columns"><img alt="ListView Add More Columns" src="images/3/35/TutorialListViewAddMoreColumns.png" width="561" height="323" class="thumbborder" /></a>
</p>
<h3><span class="mw-headline" id="Add_Data_For_New_Columns">Add Data For New Columns</span></h3>
<p>A <b>TListItem</b> has the value for the first column in the <b>Caption</b>
property.  The data for other columns is stored in the <b>SubItems</b>
property as a <b>Strings</b> object.  I find it easiest to update by
setting the 'Text' property to a list of strings with linebreaks.
You can use <b>table.concat(&lt;table&gt;,'\n')</b> to do this for a LUA
array and it'll call <b>tostring()</b> on the values.
</p>
<pre>local items = UDF1.CEListView1.Items
items.Clear()
local item = items.Add()
item.Caption = "First item"
item.SubItems.text = "Hello\n"..tostring(os.clock())
item = items.Add()
item.Caption = "Second item"
item.SubItems.text = table.concat({"World",os.clock()}, '\n')</pre>
<p><a href="index47f6-2.html?title=File:TutorialListViewMoreColumnsData.png" class="image" title="ListView Add More Columns"><img alt="ListView Add More Columns" src="images/0/01/TutorialListViewMoreColumnsData.png" width="392" height="166" class="thumbborder" /></a>
</p>
<h2><span class="mw-headline" id="Using_OwnerData">Using OwnerData</span></h2>
<p>What if you have a LOT of items you want to display?  There's overhead with creating the items and I couldn't get BeginUpdate/EndUpdate to work.  That's where the <b>OwnerData</b> property comes in!  Check the <b>OwnerData</b>
property of the ListView to make it True.  Change the Object Inspector tab from Properties to Events and double-click
on the OnData property to create an event handler.  Now I'll change the table script to look like this and run it:
</p>
<pre>-- items
list = {}
for i=1,1000000 do
  local item = {
    message = string.format('Message %d', i),
    data = math.sqrt(i)
  }
  table.insert(list, item)
end

-- need to set the Items.Count property so that it knows how many rows there
-- are in total
UDF1.CEListView1.Items.Count = #list

-- definition created by double-clicking OnData event handler
function CEListView1Data(sender, listitem)
  -- use + 1 because listitem.Index is 0-based
  local d = list[listitem.Index + 1]
  if not d then return end
  listitem.Caption = d.message -- first column
  -- other columns have sqrt of data property and CURRENT clock
  -- when this event was called
  local others = {string.format('%0.3f', math.sqrt(d.data)), os.clock()}
  listitem.SubItems.text = table.concat(others, '\n')
end</pre>
<p>So we set <b>UDF1.CEListView1.Items.Count</b> to the number of items the ListView
should display.  The OnData event handler will be called for each <i>displayed</i>
row.  When the displayed row changes, the method is called again.  This way
it is called just for the visible rows in the control.
</p><p>You can tell it's getting called by scrolling down one row then back up,
the 'Clock' column value will change.  If you resize the form (and have
the anchors set so the ListView will resize) then they all change.  You
can also see it when selecting or deselecting rows because it needs to be
redrawn.
</p><p>The <b>list[index].data</b> property is actually the 
square root of the index and the handler sets the actual displayed 
value to the square root of that, so you can see Message 16 has an
Extra value of 2.000.
</p><p><a href="indexbf2b.html?title=File:TutorialListViewOwnerData.png" class="image" title="ListView Add More Columns"><img alt="ListView Add More Columns" src="images/5/5d/TutorialListViewOwnerData.png" width="323" height="198" class="thumbborder" /></a>
</p>
<h3><span class="mw-headline" id="Aside_on_syncing_with_lua">Aside on syncing with lua</span></h3>
<p>If you see something you don't expect, it could be that the event handlers are
using old functions.  Try these steps:
</p>
<ol><li>Close down the designer and the form</li>
<li>Run your script that creates the functions used by the form events</li>
<li>Click Table=&gt;Resynchronize forms with lua</li></ol>
<h2><span id="Using_OnCustomDrawItem,_OnCustomDrawSubItem"></span><span class="mw-headline" id="Using_OnCustomDrawItem.2C_OnCustomDrawSubItem">Using OnCustomDrawItem, OnCustomDrawSubItem</span></h2>
<p>If you want to change the style of items you can use the <b>OnCustomDrawItem</b>
and <b>OnCustomDrawSubItem</b> events.  These can alter the styles as shown
here and CE will draw the text as normal if you return <b>true</b>, but
I think they can also be used to do other drawing.
</p>
<pre style="background-color: #ff4655; color: white; white-space: pre-wrap">Warning!

I have CE become unresponsive sometimes, I think it's best to close the editor when saving changes to these methods.  You can still leave the form open to see changes, just not the editor.  I think it is changing the item array and item count with the custom data most likely.</pre>
<h3><span class="mw-headline" id="OnCustomDrawItem">OnCustomDrawItem</span></h3>
<pre>CustomDrawItem(Sender, Item, State)</pre>
<p>This is called for the first column that displays the <b>Caption</b>.  If you
change a style here it will be set for other columns as well.  Sender is
the <b>ListView</b> control, Item is the <b>ListItem</b>, and I'm not sure
what <b>State</b> is.  Here's a sample that will draw odd rows (0-based)
with a blue background:
</p>
<pre>function CEListView1CustomDrawItem(Sender, Item, State)
  if (Item.Index&#160;% 2) == 1 then
    Sender.Canvas.Brush.Color = 0xffe0e0 -- odd rows blue bg (0-based)
  else
    Sender.Canvas.Brush.Color = 0xffffff -- other rows white bg red fg
    Sender.Canvas.Font.Color = 0x4040ff
  end
  return true --return true for DefaultDraw
end</pre>
<p><a href="indexa22a.html?title=File:TutorialLuaCustomDrawItem.png" class="image" title="Drawing odd rows blue bg, even red fg"><img alt="Drawing odd rows blue bg, even red fg" src="images/d/d0/TutorialLuaCustomDrawItem.png" width="386" height="216" class="thumbborder" /></a>
</p><p><br />
</p>
<h3><span class="mw-headline" id="OnCustomDrawSubItem">OnCustomDrawSubItem</span></h3>
<p>This is called for columns <i>other than the first</i>.  You should have
<b>OnCustomDrawItem</b> set as well to handle the first column, and I
think it's best just to have it delegate to this method.  The value
are the same except for a new <b>SubItem</b> parameter that is the 
zero-based column index.
</p>
<pre>function CEListView1CustomDrawSubItem(Sender, Item, SubItem, State)
  if (Item.Index&#160;% 2) == 1 then
    Sender.Canvas.Brush.Color = 0xffe0e0 -- odd rows blue bg (0-based)
    if SubItem == 1 then Sender.Canvas.Font.Color = 0x8f8f8f end -- gray middle column
  else
    Sender.Canvas.Brush.Color = 0xffffff -- odd rows white bg (0-based)
    if SubItem == 2 then
      Sender.Canvas.Font.Color = 0xffff40 -- cyan right column
    else
      Sender.Canvas.Font.Color = 0x2020ff -- red other columns
    end
  end
  return true -- return true for DefaultDraw
end

function CEListView1CustomDrawItem(Sender, Item, State)
  return CEListView1CustomDrawSubItem(Sender, Item, 0, State)
end</pre>
<p><a href="indexeeb5-2.html?title=File:TutorialLuaCustomDrawSubItem.png" class="image" title="Style Columns"><img alt="Style Columns" src="images/e/e9/TutorialLuaCustomDrawSubItem.png" width="338" height="206" class="thumbborder" /></a>
</p>
<h2><span class="mw-headline" id="Selecting_Items">Selecting Items</span></h2>
<p>Edit the <b>CEListView1</b> properties in the designer and uncheck <b>HideSelection</b> to change it to False.
This maintains the selection, though it looks grayed out when another control is selected.  
</p><p>You should already have <b>RowSelect</b> set to True from earlier.  When this is false, only the first column of the row is selected.
I think that looks wonky, I don't know why you would want this.  You can't even select other columns...
</p><p>Finally, <b>MultiSelect' should be false.  When this is set, you have to check each individual item (UDF1.CEListView1.Items[x].Selected) to see if it's selected.  On my computer that's about 1,000 items per second, so I wouldn't want to do that for more than 50 items or so.   When allowing only a single item to be selected you can use UDF1.CEListView1.getItemIndes() to get the index of the selected item (or -1 if none is selected).</b>
</p>
<h3><span class="mw-headline" id="OnSelectItem">OnSelectItem</span></h3>
<p>There is an <b>OnSelectItem</b> event that is a little weird.  The signature looks like this:
</p>
<pre>function CEListView1SelectItem(sender, listitem, selected)
  print('SelectItem!', tostring(listitem.Index), tostring(selected))
end</pre>
<p>It is called with listitem.index being the selected index and selected=true, but it is also called with listitem.index=-1 and selected=false to clear the selection.  With single-select it is always called twice: once to clear the selection (-1,false), then with the newly selected index and true.  With multi-select it works the same way when selecting single rows, but when using CTRL+CLICK to select additional rows you don't get the -1,false to clear the selection.  However when you use SHIFT+CLICK to select a range it <i>only</i> gives you that clear message.  Pretty useless...
</p>
<h3><span id="Finding_with_Multiselect=true"></span><span class="mw-headline" id="Finding_with_Multiselect.3Dtrue">Finding with Multiselect=true</span></h3>
<p>Again, the performance is horrible so don't use it with big lists (&gt; 100 items), and if you do you should probably set a limit
in code so it won't access too many items.
</p>
<pre>local items = UDF1.CEListView1.Items
local selected = {}
for i=0,math.min(100,#items.count-1) do
  if items[i].Selected then table.insert(selected, i) end
end</pre>
<h3><span class="mw-headline" id="Finding_with_single_select">Finding with single select</span></h3>
<p>You can use either of these to get the selected index, which is 0-based and will be -1 if no item is selected:
</p>
<pre>UDF1.CEListView1.Selected.Index
UDF1.CEListView1.getItemIndex()</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Other_Events">Other Events</span></h2>
<h3><span class="mw-headline" id="DblClick">DblClick</span></h3>
<p>I like using <b>DblClick</b> for doing something if you have one main thing to do with an item, it preserves the 'single-click to select' ux and is pretty common.
</p><p>Double-click in it in the Events tab of the object inspector to create a template or edit the value to be an existing function.
You can see what it does with this code:
</p>
<pre>function CEListView1DblClick(sender)
  print('You double-clicked with selected index '..tostring(sender.getItemIndex()))
end</pre>
<h3><span class="mw-headline" id="KeyDown">KeyDown</span></h3>
<p>Double-click the space by this event in the Events tab of the object inspector to create a template, or set the value to an
existing function.  The 'key' parameter is the key code, you can see a list in <b>Defines.lua</b> in the directory where
Cheat Engine is installed.  This handler will print a message to the lua console only when the 'RETURN' key is pressed.
</p>
<pre>function CEListView1KeyDown(sender, key)
  if key == VK_RETURN then
    print('Hit key "'..tostring(key)..'" with selected index '..tostring(sender.getItemIndex()))
  end
  return key
end</pre>
<p>You can return other keys, but I'm not sure of the rules.  Letters and Numbers seem to move the list to the top and the value you return doesn't matter.  Other keys like function keys, cursor keys, return, space, PGUP (VK_PRIOR) and PGDOWN (VK_NEXT) will replace that key with what you return.  For instance you could return VK_NEXT if the key is VK_PRIOR and both PGUP and PGDOWN would act like PGDOWN.
</p>
<!-- 
NewPP limit report
Cached time: 20210602143456
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.086 seconds
Real time usage: 0.139 seconds
Preprocessor visited node count: 195/1000000
Preprocessor generated node count: 368/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 3445/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key wikidb-cew_:pcache:idhash:1905-0!canonical and timestamp 20210602143456 and revision id 6652
 -->
</div><br><br><center><script async src="../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- Wiki, bottom ad --><ins class="adsbygoogle"     style="display:inline-block;width:468px;height:60px"     data-ad-client="ca-pub-2965724121945476"     data-ad-slot="2855292098"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></center></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="index5bd5.html?title=Tutorial:LuaFormListView&amp;oldid=6652">https://wiki.cheatengine.org/index.php?title=Tutorial:LuaFormListView&amp;oldid=6652</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="indexecb1.html?title=Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="index6036.html?title=Category:Tutorial" title="Category:Tutorial">Tutorial</a></li><li><a href="index1b60.html?title=Category:Lua" title="Category:Lua">Lua</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-anonuserpage">Not logged in</li><li id="pt-anontalk"><a href="index6dc0.html?title=Special:MyTalk" title="Discussion about edits from this IP address [n]" accesskey="n">Talk</a></li><li id="pt-anoncontribs"><a href="index077d.html?title=Special:MyContributions" title="A list of edits made from this IP address [y]" accesskey="y">Contributions</a></li><li id="pt-createaccount"><a href="index9c06.html?title=Special:CreateAccount&amp;returnto=Tutorial%3ALuaFormListView&amp;returntoquery=printable%3Dyes" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="index902e.html?title=Special:UserLogin&amp;returnto=Tutorial%3ALuaFormListView&amp;returntoquery=printable%3Dyes" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="index4e45.html?title=Tutorial:LuaFormListView" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="indexf247.html?title=Talk:Tutorial:LuaFormListView&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="index4e45.html?title=Tutorial:LuaFormListView">Read</a></span></li><li id="ca-edit" class="collapsible"><span><a href="index719d.html?title=Tutorial:LuaFormListView&amp;action=edit" title="Edit this page [e]" accesskey="e">Edit</a></span></li><li id="ca-history" class="collapsible"><span><a href="index383b.html?title=Tutorial:LuaFormListView&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://wiki.cheatengine.org/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Cheat Engine" title="Search Cheat Engine [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="index4875.html?title=Main_Page"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage-description"><a href="index4875.html?title=Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-recentchanges"><a href="indexa414.html?title=Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="index9b60.html?title=Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help-mediawiki"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents">Help about MediaWiki</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Tools</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="index7680.html?title=Special:WhatLinksHere/Tutorial:LuaFormListView" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="indexb807.html?title=Special:RecentChangesLinked/Tutorial:LuaFormListView" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="indexc7ac.html?title=Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-permalink"><a href="index5bd5.html?title=Tutorial:LuaFormListView&amp;oldid=6652" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="index9f7b.html?title=Tutorial:LuaFormListView&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-" aria-labelledby="p--label">
			<h3 id="p--label"></h3>
			<div class="body">
				<br><script async src="../pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Wiki, left ad -->
<ins class="adsbygoogle"
     style="display:inline-block;width:120px;height:240px"
     data-ad-client="ca-pub-2965724121945476"
     data-ad-slot="0419043812"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>			</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 18 March 2019, at 15:08.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/publicdomain/">Public Domain</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="index60df.html?title=Cheat_Engine:Privacy_policy" title="Cheat Engine:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="index789b.html?title=Cheat_Engine:About" class="mw-redirect" title="Cheat Engine:About">About Cheat Engine</a></li>
								<li id="footer-places-disclaimer"><a href="index665d.html?title=Cheat_Engine:General_disclaimer" title="Cheat Engine:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/publicdomain/"><img src="resources/assets/licenses/public-domain.png" alt="Public Domain" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.086","walltime":"0.139","ppvisitednodes":{"value":195,"limit":1000000},"ppgeneratednodes":{"value":368,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":3445,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20210602143456","ttl":86400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":368});});</script>
	</body>

<!-- Mirrored from wiki.cheatengine.org/index.php?title=Tutorial:LuaFormListView&printable=yes by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 02 Jun 2021 20:06:37 GMT -->
</html>
