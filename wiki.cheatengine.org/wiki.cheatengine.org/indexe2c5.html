<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from wiki.cheatengine.org/index.php?title=Tutorials:Auto_Assembler:Injection_basic&action=edit by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 02 Jun 2021 19:01:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>View source for Tutorials:Auto Assembler:Injection basic - Cheat Engine</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Tutorials:Auto_Assembler:Injection_basic","wgTitle":"Tutorials:Auto Assembler:Injection basic","wgCurRevisionId":5868,"wgRevisionId":0,"wgArticleId":1102,"wgIsArticle":false,"wgIsRedirect":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Tutorials:Auto_Assembler:Injection_basic","wgRelevantArticleId":1102,"wgRequestId":"d06b5eb9023ea6aff0bac3af","wgCSPNonce":false,"wgIsProbablyEditable":true,"wgRelevantPageIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@0tffind",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});RLPAGEMODULES=["mediawiki.action.edit.collapsibleFooter","site","mediawiki.page.startup","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.js"];mw.loader.load(RLPAGEMODULES);});</script>
<link rel="stylesheet" href="loadc219.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="load2c8d.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<meta name="generator" content="MediaWiki 1.32.0"/>
<meta name="robots" content="noindex,nofollow"/>
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.cheatengine.org/index.php?title=Tutorials:Auto_Assembler:Injection_basic&amp;action=edit"/>
<link rel="edit" title="Edit" href="https://wiki.cheatengine.org/index.php?title=Tutorials:Auto_Assembler:Injection_basic&amp;action=edit"/>
<link rel="shortcut icon" href="https://wiki.cheatengine.org/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.cheatengine.org/opensearch_desc.php" title="Cheat Engine (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.cheatengine.org/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/publicdomain/"/>
<link rel="alternate" type="application/atom+xml" title="Cheat Engine Atom feed" href="https://wiki.cheatengine.org/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({google_ad_client: "ca-pub-2965724121945476", enable_page_level_ads: true });</script>
<!-- Begin Cookie Consent plugin by Silktide - http://silktide.com/cookieconsent -->
<link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css" />
<script src="http://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#000"
    },
    "button": {
      "background": "#f1d600"
    }
  },
  "theme": "classic",
  "position": "top",
  "content": {
    "message": "This site makes use of the Google services Adsense Analytics, and other third party advertisers which use Cookies to collect data about you, and which will be shared with third parties. By continuing to use this site you consent to the storage of these cookies",
    "dismiss": "I Agree",
    "href": "http://www.google.com/intl/en/policies/privacy/partners/"
  }
})});
</script>
<!-- End Cookie Consent plugin -->

<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Tutorials_Auto_Assembler_Injection_basic rootpage-Tutorials_Auto_Assembler_Injection_basic skin-vector action-edit">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">View source for Tutorials:Auto Assembler:Injection basic</h1>			<div id="bodyContent" class="mw-body-content">
								<div id="contentSub">‚Üê <a href="https://wiki.cheatengine.org/index.php?title=Tutorials:Auto_Assembler:Injection_basic" title="Tutorials:Auto Assembler:Injection basic">Tutorials:Auto Assembler:Injection basic</a></div>
				<div id="jump-to-nav"></div>				<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
				<a class="mw-jump-link" href="#p-search">Jump to search</a>
				<div id="mw-content-text"><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>You must confirm your email address before editing pages.
Please set and validate your email address through your <a href="https://wiki.cheatengine.org/index.php?title=Special:Preferences" title="Special:Preferences">user preferences</a>.
</p>
</div>
<hr />
<p>You can view and copy the source of this page.
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" class="mw-editfont-monospace" lang="en" dir="ltr" name="wpTextbox1">[[Category:Tutorial]]
[[Category:Auto Assembler]]
[[Category:Code Injection]]
{{DISPLAYTITLE:Code Injection - Basic}}
So in most games to really do any thing cool, you will want or need to use code injection.

Now there are different types of injection, the most common methods are DLL injection and assembly injection. 
We will be going over assembly injection.

Specifically what's called a basic assembly injection.


Any game will work but I will be using '''Windows Solitaire'''.

First you will need to '''find the score'''.

If unsure how to find values see: [[Tutorials:Finding values:Integers|Finding values - Integers]]


== Finding the injection point ==
After you have found the address of the score then we can find the injection point. 
Where this is depends on what we want to do so in ''Windows Solitaire'' the score decreases over timer, lets stop that.

=== Step 1 ===
First we need to find the code we want, so '''select the address of the score in the address list''', 
'''right-click and select ''find out what writes to this address'''''.

[[File:CEForm.AutoAssembler.CodeInjection.01.png|border]]

A message window will tell you ''this will attach the debugger of Cheat Engine to the current process. Continue?''.
'''click the ''yes'' button'''.
:If you are having trouble try changing the [[Help_File:Debugger options|debugger settings]].

Now we '''wait for the score to decrease'''.

=== Step 2 ===
Then '''you should see some code come up in the debugger window''', with the number of times it has written to the address:
 FF8396CC - 41 83 43 14 FE - add dword ptr [r11+14],-02

[[File:CEForm.AutoAssembler.CodeInjection.02.png|border]]

Once some code comes up you can '''click the ''stop'' button'''.

[[File:CEForm.AutoAssembler.CodeInjection.03.png|border]]

Then '''click on the line of code''', this should enable the buttons, 
now '''click the ''show disassembler'' button'''.

[[File:CEForm.AutoAssembler.CodeInjection.04.png|border]]

This will bring up the disassembler / memory view form.

[[File:CEForm.AutoAssembler.CodeInjection.disassembler.01.png|border]]

=== Step 3 ===
With the disassembler / memory view form open, '''on the highlighted line of code''' 
'''right-click and select ''find out what addresses this instruction accesses'''''.

[[File:CEForm.AutoAssembler.CodeInjection.disassembler.02.png|border]]

=== Step 4 ===
Now '''let it run''' for a while, make some moves, and see what comes up.
In most games this is a good thing to do because many functions deal with multiple addresses.

So we are '''looking to see that this only accesses the score address'''.

[[File:CEForm.AutoAssembler.CodeInjection.disassembler.03.png|border]]

So if only the address we want (the score) comes up then we can '''close the window''', 
click the form close button or click the stop button then it becomes a close button and just click it again.

=== Step 5 ===
Now on the memory view form menu '''select ''tools'' then select ''auto assemble''''', 
or just press ''Ctrl+A''.

[[File:CEForm.AutoAssembler.CodeInjection.disassembler.04.png|border]]


== Writing the injection code ==
Now here is where you could just NOP the line of code, but we will setup a script to enable and disable the injection.

=== Step 1 ===
The easiest way to do this is with templates, 
so on the form's menu '''click ''template'' then click ''cheat table framework code'''''.

[[File:Tutorials.AddScriptToTable.AssignToTable.Template-CTFramework.01.png|border]]

This will give you the base code needed to add a script to the table.

[[File:CEForm.AutoAssembler.CodeInjection.autoAssembler.02.png|border]]

=== Step 2 ===
So now on the form's menu '''click ''template'' then click ''full injection'''''.

[[File:CEForm.AutoAssembler.CodeInjection.autoAssembler.03.png|border]]

You will be prompted for the address if you haven't changed the selected code in the memory view form, 
then '''click the ''ok'' button'''.

[[File:CEForm.AutoAssembler.CodeInjection.autoAssembler.04.png|border]]

This will give you the base code needed for a full injection.

[[File:CEForm.AutoAssembler.CodeInjection.autoAssembler.05.png|border]]

=== Step 3 ===
But we don't need a full injection for this so we can '''remove some code'''.

:Note the ''yellow'' lines, these mark code changes on that line.
::so here lines 13, 14, 16, 17, 18, and 24 are showing that they have changed.

[[File:CEForm.AutoAssembler.CodeInjection.autoAssembler.06.png|border]]

=== Step 3 ===
So now we need to '''add the injection code''', we'll just NOP the instruction out. 
If we '''look at the injection information''' (the commented out code at the bottom). 
We can '''see that the instruction is 5 bytes long''', so we '''need 5 NOPs to disable the score decrease function'''.

So we need some thing like this:

[[File:CEForm.AutoAssembler.CodeInjection.autoAssembler.07.png|border]]

=== Step 4 ===
Now we can add this to the table, so on the form's menu '''click ''file'' then click ''assign to current cheat table'''''.

[[File:Tutorials.AddScriptToTable.AssignToTable.01.png|border]]

This should create a memory record in the tables address list.

[[File:Tutorials.AddScriptToTable.AssignToTable.CTScript.01.png|border]]


== Testing the injection code ==
Now we are ready to test the code.

=== Enable ===
With the memory view form visible, '''looking at the injection line''', 
'''enable the script''' (click the box or with it selected press the space bar).

[[File:CEForm.AutoAssembler.CodeInjection.addrLst.script.02.png|border]]

You should see a red X in the enabler box, 5 Nops, and the same code as before the injection on the next line, 
if all went as planed.

[[File:CEForm.AutoAssembler.CodeInjection.addrLst.script.03.png|border]]

Now '''check that the score doesn't get decreased'''.

=== Disable ===
Now '''disable the script''', same steps as enabling, 
and the red X should be gone and the original code should be injected back.

[[File:CEForm.AutoAssembler.CodeInjection.addrLst.script.04.png|border]]

Now '''check that the score gets decreased'''.


And that's that basics of assembly injection with Cheat Engine.


{{Template:CodeInjectionSeeAlso}}

== External links ==
* [https://wikipedia.org/wiki/Cheating_in_video_games wikipedia.org/wiki/Cheating_in_video_games]
** [https://en.wikipedia.org/wiki/Cheating_in_video_games#Modification_of_runtime_game_data Modification of runtime game data]
* [https://wikipedia.org/wiki/Code_injection wikipedia.org/wiki/Code_injection]
</textarea><div class="templatesUsed"><div class="mw-templatesUsedExplanation"><p>Template used on this page:
</p></div><ul>
<li><a href="https://wiki.cheatengine.org/index.php?title=Template:CodeInjectionSeeAlso" title="Template:CodeInjectionSeeAlso">Template:CodeInjectionSeeAlso</a> (<a href="https://wiki.cheatengine.org/index.php?title=Template:CodeInjectionSeeAlso&amp;action=edit" title="Template:CodeInjectionSeeAlso">edit</a>) </li></ul></div><p id="mw-returnto">Return to <a href="https://wiki.cheatengine.org/index.php?title=Tutorials:Auto_Assembler:Injection_basic" title="Tutorials:Auto Assembler:Injection basic">Tutorials:Auto Assembler:Injection basic</a>.</p>
<br><br><center><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- Wiki, bottom ad --><ins class="adsbygoogle"     style="display:inline-block;width:468px;height:60px"     data-ad-client="ca-pub-2965724121945476"     data-ad-slot="2855292098"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></center></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://wiki.cheatengine.org/index.php?title=Tutorials:Auto_Assembler:Injection_basic">https://wiki.cheatengine.org/index.php?title=Tutorials:Auto_Assembler:Injection_basic</a>"					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-anonuserpage">Not logged in</li><li id="pt-anontalk"><a href="https://wiki.cheatengine.org/index.php?title=Special:MyTalk" title="Discussion about edits from this IP address [n]" accesskey="n">Talk</a></li><li id="pt-anoncontribs"><a href="https://wiki.cheatengine.org/index.php?title=Special:MyContributions" title="A list of edits made from this IP address [y]" accesskey="y">Contributions</a></li><li id="pt-createaccount"><a href="https://wiki.cheatengine.org/index.php?title=Special:CreateAccount&amp;returnto=Tutorials%3AAuto+Assembler%3AInjection+basic&amp;returntoquery=action%3Dedit" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="https://wiki.cheatengine.org/index.php?title=Special:UserLogin&amp;returnto=Tutorials%3AAuto+Assembler%3AInjection+basic&amp;returntoquery=action%3Dedit" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="https://wiki.cheatengine.org/index.php?title=Tutorials:Auto_Assembler:Injection_basic" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://wiki.cheatengine.org/index.php?title=Talk:Tutorials:Auto_Assembler:Injection_basic&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible"><span><a href="https://wiki.cheatengine.org/index.php?title=Tutorials:Auto_Assembler:Injection_basic">Read</a></span></li><li id="ca-edit" class="collapsible selected"><span><a href="https://wiki.cheatengine.org/index.php?title=Tutorials:Auto_Assembler:Injection_basic&amp;action=edit" title="Edit this page">Edit</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://wiki.cheatengine.org/index.php?title=Tutorials:Auto_Assembler:Injection_basic&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://wiki.cheatengine.org/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search Cheat Engine" title="Search Cheat Engine [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="https://wiki.cheatengine.org/index.php?title=Main_Page"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage-description"><a href="https://wiki.cheatengine.org/index.php?title=Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-recentchanges"><a href="https://wiki.cheatengine.org/index.php?title=Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="https://wiki.cheatengine.org/index.php?title=Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help-mediawiki"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents">Help about MediaWiki</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Tools</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="https://wiki.cheatengine.org/index.php?title=Special:WhatLinksHere/Tutorials:Auto_Assembler:Injection_basic" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://wiki.cheatengine.org/index.php?title=Special:RecentChangesLinked/Tutorials:Auto_Assembler:Injection_basic" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="https://wiki.cheatengine.org/index.php?title=Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-info"><a href="https://wiki.cheatengine.org/index.php?title=Tutorials:Auto_Assembler:Injection_basic&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-" aria-labelledby="p--label">
			<h3 id="p--label"></h3>
			<div class="body">
				<br><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Wiki, left ad -->
<ins class="adsbygoogle"
     style="display:inline-block;width:120px;height:240px"
     data-ad-client="ca-pub-2965724121945476"
     data-ad-slot="0419043812"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>			</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="https://wiki.cheatengine.org/index.php?title=Cheat_Engine:Privacy_policy" title="Cheat Engine:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="https://wiki.cheatengine.org/index.php?title=Cheat_Engine:About" class="mw-redirect" title="Cheat Engine:About">About Cheat Engine</a></li>
								<li id="footer-places-disclaimer"><a href="https://wiki.cheatengine.org/index.php?title=Cheat_Engine:General_disclaimer" title="Cheat Engine:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/publicdomain/"><img src="https://wiki.cheatengine.org/resources/assets/licenses/public-domain.png" alt="Public Domain" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="https://wiki.cheatengine.org/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":360});});</script>
	</body>

<!-- Mirrored from wiki.cheatengine.org/index.php?title=Tutorials:Auto_Assembler:Injection_basic&action=edit by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 02 Jun 2021 19:01:53 GMT -->
</html>
